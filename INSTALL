
                    Sedna Installation Instructions

   This document describes the installation of Sedna from the source
   code distribution.
     _________________________________________________________________

                               Short Version

   In a terminal type (substitute <install-path> with the path to a directory
   for which you have read/write permissions):

export SEDNA_INSTALL=<install-path>
make
make install

   Note: You may want to set up variables according to your needs. You may
   also want to perform "make dispersal_install" instead of "make install".
   See details below.

     _________________________________________________________________

                                Long Version

   The long version is the rest of this document.

   For this moment Sedna is not sharpened for building it by outsiders. But 
   if you have some time and patience you can succeed.

     _________________________________________________________________

                                Requirements

   Historically, Sedna was developed for the Windows platform (NT family), but
   for now it is also available for Linux. Despite the fact that Sedna was 
   natively developed for Windows, you need to use a set of Unix tools to build 
   it even for the Windows platform. Note that Sedna will *not* run on Microsoft 
   Windows 95/98/ME.

   Sedna is expected to build and run on the following platforms:
   1. Microsoft Windows 2000, XP, 2003 (and possibly Windows NT)
   2. Linux with kernel version 2.4.xxx and 2.6.xxx

   A modern POSIX-compatible platform should be able to run Sedna potentially, 
   but some effort should be made.


   The following software packages are required for building Sedna:

     * A Unix console and a set of widely known Unix tools such as rm, mkdir,
       m4, etc are required. They are usually present in any Unix 
       installation. For the Windows platform you need the Cygwin package.
     * GNU make is required; other make programs will *not* work. 
     * You need a C/C++ compiler. For the Windows platform Microsoft C/C++ 
       complier of one of the following versions is required: version 
       12.00.xxxx (Visual C++ 6.0), version 13.00.xxxx (Visual C++ .Net 2002)
       or version 13.10.xxxx (Visual C++ .Net 2003). For Linux GCC version 
       3.x.x is required. GCC is also required for the Windows platform for 
       making dependencies (so it is recommended to use Cygwin package with 
       GCC in it).
     * gzip is needed to unpack the distribution in the first place. If
       you are reading this, you probably already got past that hurdle.
     * For building documentation you need LaTex package. You also need some
       additional tools like ps2pdf. For the Windows platform it is 
       recommended to use GhostScript package version 6.5 or higher (paths to 
       its bin and lib should be in the environment variable PATH).
     * For building Java API driver your need Sun Microsystems JDK version 
       1.4 or higher.
     * The Sedna source code distribution for Windows consists of some 
       libraries in the binary form. They are modified PCRE library, Chicken 
       Scheme compiler, Expat XML parser and PCCTS Tools. They are provided 
       in the binary form to simplify building process while they are still 
       available in the source code at the sites of their respective 
       developers. Actually, you need not know about them until you got 
       problems with them or you are going to port Sedna to other platforms.

   Note: We neither support nor plan to support MinGW environment for building
   Sedna on Windows. If you do not have Microsoft Visual C++ consider using
   free building tools from Microsoft: Microsoft Visual C++ Toolkit 2003 
   togeter with Microsoft Windows Platform SDK.


   Also check that you have sufficient disk space. You will need about 100
   MB for the source tree during compilation and about 10 MB for the
   installation directory (note that this is measurement for the Windows 
   platform and results may vary). The default size database requires 
   additionally about 250 Mb.
     _________________________________________________________________

                           Installation Procedure

    1. Configuration
       The first step of the installation procedure is to set environment
       variables for building Sedna.

export ACTIVE_CONFIGURATION=Release

       Turns on the release mode. Otherwise (ACTIVE_CONFIGURATION=Debug) 
       executables will contain debug information.

export AUTH_SWITCH=1

       Turns on support for Database users access privileges. Set AUTH_SWITCH 
       to 0 if you would like to turn this feature off (if you are not 
       planning to use this feature we recommend to turn it off).

export ENABLE_TRIGGERS=0

       Turns off support for triggers. Set ENABLE_TRIGGERS to 1 if you would 
       like to turn support for triggers on. Note, currently triggers are in 
       developing phase, thus, we would strongly recommend to turn this feature off.

export DOCUMENTATION=1

       Compiles documentation. Set DOCUMENTATION to 0 if you do not want docs 
       to be compiled.

export EL_DEBUG=0

       Throw out all debug printings. Set EL_DEBUG to 1 if you would like
       to get all printings.

export JAVA_DRIVER=1
       
       Compiles Java driver. Set JAVA_DRIVER to 0 if you do not want java 
       driver to be compiled.

export SQL_CONNECTION=1

       Adds support to SQL Connections. Set SQL_CONNECTION to 0 if you do 
       not want SQL Connection to be compiled.

export STATIC_SYS_LIBS=0

       Links Sedna executables with shared system libraries. Set 
       STATIC_SYS_LIBS to 1 if you want to link Sedna executables with
       static system libraries.

export SEDNA_INSTALL=<install-path>

       Identifies the directory where to install Sedna in case of
       "make install" (see below).

export PREFIX=<prefix-path>

       Identifies the prefix directory where to install Sedna in case of
       "make dispersal_install" (see below). This option is valid only for
       Unix platforms. The rational example of PREFIX' value are "/usr" or
       "/usr/local" (type them without quotes).

    2. Build
       To start the build, type
make
       (Remember to use GNU make) The build may take anywhere from 10
       minutes to half an hour depending on your hardware. The last three
       lines displayed should be
===================================================================
Make done
===================================================================

    3. Installing the Files

       You have two ways of installing Sedna (the latter is available
       only in Unix):

make install
       This will install files into the directory identified by 
       $SEDNA_INSTALL that was specified in step 1. Make sure that you have 
       appropriate permissions to write into that area. 
       Normally, you would get installation of Sedna like if you were
       installing it from the binary package except one point. In Unix
       you will not be able to run Sedna if you are not root. To make 
       Sedna available to other users change permissions as shown in 4.

make dispersal_install
       This will install files into the directories $PREFIX/bin, 
       $PREFIX/lib, $PREFIX/include, $PREFIX/share, etc according to
       file types. For some reasons you may find this type of installation
       preferable comparing with "make install" (because, for example
       $PREFIX/bin directory is already in your $PATH). 
       This type of installation is valid only for Unix. Note that you
       will not be able to run Sedna if you are not root. To make 
       Sedna available to other users change permissions as shown in 4.

    4. Changing Permissions
       In Unix you will not be able to run Sedna if you are not root.
       This problem can be fixed by changing file permissions.

       If you have installed Sedna by "make install" type (note, that
       you have to be root to perform this operation):

chown -R root:root $SEDNA_INSTALL
chmod u=rws,g=rwx,o=x $SEDNA_INSTALL/bin/se_*

       If you have installed Sedna by "make dispersal_install" type (note,
       that you have to be root to perform this operation):

chown root:root $PREFIX/bin/se_*
chmod u=rws,g=rwx,o=x $PREFIX/bin/se_*



   Uninstallation: To undo the installation in case of "make install" just
   delete files installed into $SEDNA_INSTALL/sedna. In case of 
   "make dispersal_install" you have to remove manually the following
   files and directories (SHARE_PREFIX is defined as /usr/share if PREFIX
   is / and SHARE_PREFIX is defined as PREFIX/share otherwise): 

$PREFIX/bin/se_*
$SHARE_PREFIX/doc/sedna-x.x.x
$SHARE_PREFIX/java/sednadriver.jar
$PREFIX/lib/libsedna.a
$PREFIX/include/libsedna.h
$SHARE_PREFIX/sedna-x.x.x

   Optionally, if you want to delete Sedna databases, remove the following
   directory:

/var/lib/sedna

   Cleaning: After the installation you can make room by removing the
   built files from the source tree with the command "make clean".

     _________________________________________________________________

                          Post-Installation Setup

Environment Variables

   You may want to add $SEDNA_INSTALL/sedna/bin to the environment variable 
   PATH. Note, that we recommend you to use absolute path. 

Database Files

   Database files will be placed by default into $SEDNA_INSTALL/sedna in
   Windows and into /var/lib/sedna in Linux. You may want to set up this
   path manually by creating $SEDNA_INSTALL/sedna/etc/sednaconf.xml. See
   Administration Guide for details.

     _________________________________________________________________

                              Getting Started

   Sedna is distributed with examples and instructions how to run it.
   See Sedna Quick Start available at "doc" subdirectory of the directory 
   where Sedna is installed (or in $PREFIX/share/doc/sedna-x.x.x if you have
   chosen "make dispersal_install").

     _________________________________________________________________

                                 What Now?

     * The Sedna distribution contains a documentation set, which should be
       useful. See documentation at "doc" subdirectory of the directory 
       where Sedna is installed (or in $PREFIX/share/doc/sedna-x.x.x if you 
       have chosen "make dispersal_install").
     * For support, please, feel free to contact us with questions, 
       suggestions, bug reports and comments:

modis@ispras.ru

       For up-to-date information and new versions of Sedna visit the Sedna 
       homepage:

http://www.modis.ispras.ru/Development/sedna.htm

       You can also join the Sedna mail lists at

http://www.modis.ispras.ru/maillist.htm
